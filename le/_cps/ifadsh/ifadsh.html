<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <meta name="keywords" content="駒場東邦物理部,駒場東邦,駒東,KTPC,物理部,プログラミング,C++,講習">
  <meta name="description" content="駒場東邦物理部(KTPC)部員向けC++講習の資料です。if文とswitch文について解説しています。">
  <meta name="author" content="駒場東邦物理部">
  <meta http-equiv="content-language" content="ja">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>if文とswitch文 - C++講習 - 駒場東邦物理部</title>
  <link rel="icon" type="image/jpeg" href="../../../images/logo.jpg">
  <link rel="stylesheet" type="text/css" href="../../../style.css">
  <link rel="stylesheet" type="text/css" media="(max-width:800px)" href="../../../static.css">
  <script type="text/javascript" src="../../../header.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-133906591-2"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());

   gtag('config', 'UA-133906591-2');
  </script>
 </head>
 <body>
  <header class="ch00">
   <img class="ch11" src="../../../images/br.jpg">
  </header>
  <div class="chb">
   <div class="ch01">
    <div class="ch10">
     <div class="ch21">
      <button type="button" class="ch31" onclick="ck()">
       <img class="ch42" src="../../../images/menu.png">
      </button>
     </div>
     <div id="hnmu" class="ch22" style="display: none; pointer-events:none;">
      <div class="ch32">
       <span class="ch40">
        <span class="ch50">駒場東邦物理部</span>
       </span>
       <a class="ch41" href="../../../index.html">
        <span class="ch50">トップページ</span>
       </a>
       <a class="ch41" href="../../le.html">
        <span class="ch50">講習トップ</span>
       </a>
      </div>
      <div class="ch32">
       <span class="ch40">
        <span class="ch50">C++講習</span>
       </span>
       <a class="ch41" href="../_cps.html">
        <span class="ch50">目次</span>
       </a>
       <a class="ch41" href="../i_dx/i_dx.html">
        <span class="ch50">索引</span>
       </a>
       <a class="ch41" href="../k_st/k_st.html">
        <span class="ch50">前回</span>
       </a>
       <a class="ch41" href="../whadfr/whadfr.html">
        <span class="ch50">次回</span>
       </a>
      </div>
     </div>
    </div>
   </div>
    <div class="cb00">
     <div class="cb10">
      <article class="cb20">
       <h1>C++講習/if文とswitch文（準備中です。もうしばらくお待ちください。）</h1>
      </article>
      <article class="cb21 fxtb">
       <h2 class="cb33">概要</h2>
       <span class="cb34">
        プログラムの流れを分岐させる選択文の、if文やswitch文を解説します。
       </span>
      </article>
      <article class="cb21 fxlr">
       <div class="cb36 debr">
        <h4 class="cb44">
         重要語
        </h4>
        <h4 class="cb45">
         式
        </h4>
        <span class="cb41">
         値と演算子の並び
        </span>
        <h4 class="cb45">
         選択文
        </h4>
        <span class="cb41">
         if文とswitch文の総称
        </span>
        <h4 class="cb45">
         反復文
        </h4>
        <span class="cb41">
         while文とfor文の総称
        </span>
        <h4 class="cb45">
         制御文
        </h4>
        <span class="cb41">
         選択文や反復文などの総称
        </span>
        <h4 class="cb45">
         式文
        </h4>
        <span class="cb41">
         式にセミコロンがついたもの
        </span>
        <h4 class="cb45">
         空文
        </h4>
        <span class="cb41">
         セミコロンのみの文
        </span>
        <h4 class="cb45">
         文
        </h4>
        <span class="cb41">
         制御文や式文などの総称
        </span>
        <h4 class="cb45">
         複合文
        </h4>
        <span class="cb41">
         複数の文をまとめたもの
        </span>
        <h4 class="cb45">
         関係演算子
        </h4>
        <span class="cb41">
         <code>&lt,&gt,&lt=,&gt=,==,!=</code>
        </span>
        <h4 class="cb45">
         条件式
        </h4>
        <span class="cb41">
         関係演算子と値の並び
        </span>
        <h4 class="cb45">
         論理演算子
        </h4>
        <span class="cb41">
         <code>&&,||,!</code>
        </span>
        <h4 class="cb45">
         評価
        </h4>
        <span class="cb41">
         式が計算されること
        </span>
        <h4 class="cb45">
         短絡評価
        </h4>
        <span class="cb41">
         理論積と理論和で右辺が評価されないこと
        </span>
        <h4 class="cb45">
         条件演算子
        </h4>
        <span class="cb41">
         <code>条件式 ? 値A : 値B</code>
        </span>
        <h4 class="cb45">
         if文
        </h4>
        <span class="cb41">
         条件式に応じて文を実行する選択文
        </span>
        <h4 class="cb45">
         switch文
        </h4>
        <span class="cb41">
         整数などに応じて文を順次実行する選択文
        </span>
        <h4 class="cb45">
         フォールスルー
        </h4>
        <span class="cb41">
         他のラベルを跨ぐこと
        </span>
        <h4 class="cb45">
         break文
        </h4>
        <span class="cb41">
         選択文や反復文の実行をやめる文
        </span>
       </div>
       <div class="cb36 debr">
       <h4 class="cb44">
        必要語
       </h4>
       <h4 class="cb45">重要語例</h4>
       <span class="cb41">重要語例</span>
      </div>
     </article>

     <article class="cb21 fxtb">
      <h2 class="cb33">式と文</h2>
      <span class="cb34">
       まず、式と文について細かい定義について学びましょう。<br>
       以下のサンプルコードを実行してみましょう。
      </span>
     </article>
      <article class="cb21 fxrl">
       <div class="cb37">
        <div class="cb46">
         <span class="cb54">式と文</span>
         <button type="button" class="cb53" onclick="copy('saco_1')">
          <span class="cb61">COPY</span>
         </button>
        </div>
        <code class="cb47">
<pre id="saco_1" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> r10<span class="wdsl">()</span> <span class="wdsl">{</span>
    <span class="wdkywd">return</span> <span class="wdnr">10</span><span class="wdsl">;</span>
<span class="wdsl">}</span>

<span class="wdkywd">int</span> wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
 <span class="wdkywd">int</span> z <span class="wdsl">=</span> <span class="wdnr">0</span><span class="wdsl">;</span>
 
 <span class="wdc_mt">//セミコロンを付けているので純粋な値ではない
</span>    <span class="wdc_mt">//値と見做せるもの
</span>    <span class="wdnr">0</span><span class="wdsl">;</span>     <span class="wdc_mt">//リテラル
</span>    z<span class="wdsl">;</span>     <span class="wdc_mt">//変数
</span>    r10<span class="wdsl">;</span>   <span class="wdc_mt">//アドレス
</span>    r10<span class="wdsl">();</span> <span class="wdc_mt">//関数呼び出し
</span>
 <span class="wdc_mt">//セミコロンを付けているので実際は式文
</span>    <span class="wdc_mt">//式と見做せるもの
</span>    z <span class="wdsl">=</span> <span class="wdnr">10</span> <span class="wdsl">+</span> r10<span class="wdsl">();</span>

    <span class="wdc_mt">//複合文
</span>    <span class="wdsl">{</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>z<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"wWinMainのz"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

        <span class="wdc_mt">//複合文のzがwWinMainのzを隠す
</span>        <span class="wdkywd">int</span> z <span class="wdsl">=</span> <span class="wdnr">10</span><span class="wdsl">;</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>z<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"複合文のz"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    <span class="wdsl">}</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
        </code>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">式</h3>
        <span class="cb41">
         何気なく使っている式の定義は、値と演算子の並びです。<br>
         値には、コード上の値や変数、式や関数呼び出しなどが属します。
        </span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">文</h3>
        <span class="cb41">
         C++の文は選択文や反復文、変数宣言、式文、空文などの総称です。<br>
         文は実行の順番を指定するもので、セミコロンで区切られていると文です。<br>
         選択文は今回のif文とswitch文、反復文は次回のwhile文とfor文です。<br>
         式文は式の末尾にセミコロンを付けたものです。<br>
         空文はセミコロンのみのことで、その名の通り何も処理されません。
        </span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">複合文</h3>
        <span class="cb41">
         複数の文を波括弧で囲うと、複数の文を1つの文として扱う複合文になります。<br>
         複合文の終わりはセミコロンが不要です。付けると空文が続く事になります。<br>
         複合文は複数の文をまとめる機能が主ですが、変数の見え方や寿命に影響します。<br>
         変数は宣言された複合文と、その複合文に含まれる複合文の中でしか使用できないのです。
        </span>
       </div>
      </article>
      <article class="cb21 fxtb">
       <h2 class="cb33">式と文</h2>
       <span class="cb34">
        コード「式と文」の解説です。
       </span>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">値と式</h3>
        <span class="cb41">
         <code>0;</code>の<code>0</code>は整数リテラルです。リテラルはソースコード上の値のことです。<br>
         <code>z;</code>の<code>z</code>は変数名です。直前で宣言したint型の変数zのことなので値です。<br>
         <code>r10;</code>の<code>r10</code>は関数名です。関数名はアドレスにされるので値です。<br>
         <code>r10();</code>の<code>r10()</code>は関数呼び出しです。関数は値を返却するので値と見做せます。<br>
         <code>z = 10 + r10();</code>の<code>z = 10 + r10()</code>は式です。<br>
         ただし、セミコロンを付けると式文になるので、 全体としては式文です。
        </span>
       </div>
      </article>
      <article class="cb21 fxtb">
       <h2 class="cb33">条件式とbool</h2>
       <span class="cb34">
        制御文に入る前に条件式と<code>bool</code>型について学びます。<br>
        以下のサンプルコードを実行してみましょう。
       </span>
      </article>
      <article class="cb21 fxrl">
       <div class="cb37">
        <div class="cb46">
         <span class="cb54">条件式とbool</span>
         <button type="button" class="cb53" onclick="copy('saco_2')">
          <span class="cb61">COPY</span>
         </button>
        </div>
        <code class="cb47">
<pre id="saco_2" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

std<span class="wdsl">::</span>wstring to_wstring<span class="wdsl">(</span><span class="wdkywd">bool</span> b<span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdkywd">return</span> b <span class="wdsl">?</span> <span class="wdtt">L"true"</span> <span class="wdsl">:</span> <span class="wdtt">L"false"</span><span class="wdsl">;</span>
<span class="wdsl">}</span>

<span class="wdkywd">int</span> wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdkywd">bool</span> b <span class="wdsl">=</span> MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"こんにちは"</span><span class="wdsl">,</span> <span class="wdtt">L"どうも"</span><span class="wdsl">,</span> MB_YESNO<span class="wdsl">)</span> <span class="wdsl">==</span> IDYES<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> to_wstring<span class="wdsl">(</span>b<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"「はい」だったか"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    std<span class="wdsl">::</span>wstring str<span class="wdsl">,</span> str2<span class="wdsl">;</span>
    str <span class="wdsl">=</span> to_wstring<span class="wdsl">(</span><span class="wdnr">10</span> <span class="wdsl">&lt;</span> <span class="wdnr">20</span><span class="wdsl">)</span> <span class="wdsl">+</span> <span class="wdtt">L", "</span>
        <span class="wdsl">+</span> to_wstring<span class="wdsl">(</span><span class="wdnr">10</span> <span class="wdsl">&gt;</span> <span class="wdnr">20</span><span class="wdsl">)</span> <span class="wdsl">+</span> <span class="wdtt">L", "</span>
        <span class="wdsl">+</span> to_wstring<span class="wdsl">(</span><span class="wdnr">10</span> <span class="wdsl">&lt;=</span> <span class="wdnr">10</span><span class="wdsl">)</span> <span class="wdsl">+</span> <span class="wdtt">L", "</span>
        <span class="wdsl">+</span> to_wstring<span class="wdsl">(</span><span class="wdnr">20</span> <span class="wdsl">&gt;=</span> <span class="wdnr">20</span><span class="wdsl">)</span> <span class="wdsl">+</span> <span class="wdtt">L", "</span>
        <span class="wdsl">+</span> to_wstring<span class="wdsl">(</span><span class="wdnr">30</span> <span class="wdsl">==</span> <span class="wdnr">30</span><span class="wdsl">)</span> <span class="wdsl">+</span> <span class="wdtt">L", "</span>
        <span class="wdsl">+</span> to_wstring<span class="wdsl">(</span><span class="wdnr">39</span> <span class="wdsl">!=</span> <span class="wdnr">39</span><span class="wdsl">);</span>
    str2 <span class="wdsl">=</span> <span class="wdtt">L"10&lt;10, 10&gt;20, 10&lt;=10, 20&gt;=20, 30==30, 39!=39"</span><span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str.c_str<span class="wdsl">(),</span> str2.c_str<span class="wdsl">(),</span> MB_OK<span class="wdsl">);</span>

    <span class="wdkywd">int</span> result
        <span class="wdsl">=</span> MessageBoxW<span class="wdsl">(</span>
            NULL<span class="wdsl">,</span>
            <span class="wdtt">L"「はい」か「いいえ」を押さないとtrue"</span><span class="wdsl">,</span>
            <span class="wdtt">L"ばつ"</span><span class="wdsl">,</span>
            MB_ICONWARNING <span class="wdsl">|</span> MB_YESNOCANCEL
        <span class="wdsl">);</span>
    b <span class="wdsl">=</span> result <span class="wdsl">!=</span> IDYES <span class="wdsl">&amp;&amp;</span> result <span class="wdsl">!=</span> IDNO<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> to_wstring<span class="wdsl">(</span>b<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"「はい」か「いいえ」を押さなかったか"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    b <span class="wdsl">=</span> <span class="wdsl">!</span>b<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> to_wstring<span class="wdsl">(</span>b<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"論理否定"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
        </code>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">bool型</h3>
        <span class="cb41">
         <code>bool</code>型は値に<code>false</code>か<code>true</code>を持つ型です。<code>false</code>を0、<code>true</code>を1として値を持っています。<br>
         <code>false</code>は偽のことで「正しくない」、<code>true</code>は真のことで「正しい」という意味を持ちます。<br>
         <code>bool</code>型は整数型とほぼ同じもので、ほとんどの場合で1バイトの整数として実装されます。
        </span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">int型とbool型</h3>
        <span class="cb41">
         C言語との互換のため、0は<code>false</code>、0以外は<code>true</code>に暗黙のうちにキャストされます。<br>
         その逆も同様に、<code>false</code>は0に、 <code>true</code>1に暗黙のうちにキャストされます。
        </span>
       </div>
      </article>
      <article class="cb21 fxlr">
       <div class="cb31">
        <h3 class="cb40">条件式と関係演算子</h3>
        <span class="cb41">
         条件式は式の一種ですが、演算子には関係演算子を用いります。<br>
         条件式は<code>bool</code>値を結果として持ちます。<br>
         比較できる型の値<code>値A,値B</code>を用いて、<code>値A 演算子 値B</code>と用います。
        </span>
       </div>
       <div class="cb36 debr">
        <h4 class="cb44">関係演算子一覧</h4>
        <h4 class="cb45">&lt</h4>
        <span class="cb41">右辺が左辺よりも大きいと<code>true</code></span>
        <h4 class="cb45">&gt</h4>
        <span class="cb41">左辺が右辺よりも大きいと<code>true</code></span>
        <h4 class="cb45">&lt=</h4>
        <span class="cb41">右辺が左辺と等しいか大きいと<code>true</code></span>
        <h4 class="cb45">&gt=</h4>
        <span class="cb41">左辺が右辺と等しいか大きいと<code>true</code></span>
        <h4 class="cb45">==</h4>
        <span class="cb41">左辺と右辺が等しいと<code>true</code></span>
        <h4 class="cb45">!=</h4>
        <span class="cb41">左辺と右辺が等しくないと<code>true</code></span>
       </div>
      </article>
      <article class="cb21 fxlr">
       <div class="cb31">
        <h3 class="cb40">論理演算子</h3>
        <span class="cb41">
         複数の<code>bool</code>値を組み合わせたり、否定をするときには論理演算子を使います。<br>
         <code>&&</code>を論理積演算子、<code>||</code>を論理和演算子、<code>!</code>を論理否定演算子と呼びます。<br>
         論理積、論理和演算子は<code>bool</code>値<code>値A,値B</code>を用いて、<code>値A 演算子 値B</code>と用います。<br>
         論理否定演算子は<code>bool</code>値の<code>値</code>を用いて、<code>!値</code>と用います。
        </span>
       </div>
       <div class="cb36 debr">
        <h4 class="cb44">論理演算子一覧</h4>
        <h4 class="cb45">&&</h4>
        <span class="cb41">両辺が<cdoe>true</cdoe>だと<code>true</code></span>
        <h4 class="cb45">||</h4>
        <span class="cb41">どちらか一辺が<code>true</code>だと<code>true</code></span>
        <h4 class="cb45">!</h4>
        <span class="cb41"><code>false</code>なら<code>true</code>、<code>true</code>なら<code>false</code></span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">評価と短絡評価</h3>
        <span class="cb41">
         式や値は評価されて値を持ちます。すなわち、評価されると演算されます。<br>
         そして、論理積と論理和演算子は短絡評価が行われることがあります。<br>
         これは右辺を評価しなくとも結果が変わらない場合に、右辺を評価しないことです。<br>
         すなわち、論理積では左辺が<code>false</code>、論理和では左辺が<code>true</code>であると短絡評価されます。<br>
         短絡評価された時、右辺で変数などに変更を伴う式を書いていても実行されません。
        </span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">条件演算子</h3>
        <span class="cb41">
         条件演算子は<code>条件式 ? 値A : 値B</code>という構文で、条件式と値を二つ取ります。<br>
         <code>値A,値B</code>は、条件式が<code>true</code>であると<code>値A</code>が、<code>false</code>であると<code>値B</code>が選択されます。<br>
         そして、選択された値が条件演算子を用いた式の値になります。<br>
         ほとんどの場合、<code>値A,値B</code>は同じ型の値を用いります。<br>
         違う型の場合、変換によって同じ型に出来ないとエラーになります。
        </span>
       </div>
      </article>
      <article class="cb21 fxtb">
       <h2 class="cb33">コード「条件式とbool」解説</h2>
       <span class="cb34">
        コード「条件式とbool」の解説です。
       </span>
      </article>
      <article class="cb21 fxtb">
       <h2 class="cb33">if文とswitch文</h2>
       <span class="cb34">
        それでは、if文とswitch文を学んでいきます。以下のコードを実行してみましょう。
       </span>
      </article>
      <article class="cb21 fxrl">
       <div class="cb37">
        <div class="cb46">
         <span class="cb54">if文とswitch文</span>
         <button type="button" class="cb53" onclick="copy('saco_3')">
          <span class="cb61">COPY</span>
         </button>
        </div>
        <code class="cb47">
<pre id="saco_3" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdkywd">if</span> <span class="wdsl">(</span><span class="wdkywd">true</span><span class="wdsl">)</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"trueなので実行される"</span><span class="wdsl">,</span> <span class="wdtt">L"if文"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdkywd">if</span> <span class="wdsl">(</span>MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"こんにちは"</span><span class="wdsl">,</span> <span class="wdtt">L"どうも"</span><span class="wdsl">,</span> MB_YESNO<span class="wdsl">)</span> <span class="wdsl">==</span> IDYES<span class="wdsl">)</span> <span class="wdsl">{</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"はいが押されました"</span><span class="wdsl">,</span> <span class="wdtt">L"結果 - 文A"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    <span class="wdsl">}</span>
    <span class="wdkywd">else</span> <span class="wdsl">{</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"いいえが押されました"</span><span class="wdsl">,</span> <span class="wdtt">L"結果 - 文B"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    <span class="wdsl">}</span>

    <span class="wdkywd">int</span> label
        <span class="wdsl">=</span> MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"something"</span><span class="wdsl">,</span> <span class="wdtt">L"switch"</span><span class="wdsl">,</span> MB_CANCELTRYCONTINUE<span class="wdsl">);</span>
    <span class="wdkywd">switch</span> <span class="wdsl">(</span>label<span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdkywd">case</span> IDCANCEL<span class="wdsl">:</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"が押されました"</span><span class="wdsl">,</span> <span class="wdtt">L"キャンセル"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdkywd">case</span> IDTRYAGAIN<span class="wdsl">:</span> <span class="wdsl">{</span>
        std<span class="wdsl">::</span>wstring str <span class="wdsl">=</span> <span class="wdtt">L"が押されました"</span><span class="wdsl">;</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str.c_str<span class="wdsl">(),</span> <span class="wdtt">L"再実行"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdsl">}</span>
    <span class="wdkywd">default</span><span class="wdsl">:</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"が押されました"</span><span class="wdsl">,</span> <span class="wdtt">L"続行"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdsl">}</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
        </code>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">if文</h3>
        <span class="cb41">
         if文は、<code>if (条件式) 文A</code>もしくは<code>if (条件式) 文A else 文B</code>という構文です。<br>
         なお、後者の構文をif-else文と呼び、区別することがあります。<br>
         <code>条件式</code>が<code>true</code>であれば<code>文A</code>が、<code>false</code>でかつif-else文であれば<code>文B</code>が実行されます。<br>
         ただし、<code>文A,文B</code>どちらも1文のみ許容されるので、複数の文を扱うときは複合文を使います。
        </span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">switch文</h3>
        <span class="cb41">
         switch文は<code>switch (ラベル) { 処理部 }</code>という構文です。<br>
         ラベルには整数などが指定できます。Windows APIの定数も実体は整数なので指定できます。<br>
         <code>処理部</code>では、caseラベルとdefaultラベルを用いて分岐をします。
        </span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">switch文の<code>処理部</code></h3>
        <span class="cb41">
         caseラベルは<code>case ラベル:</code>、defaultラベルは<code>default:</code>という構文を用います。<br>
         <code>ラベル</code>に指定した値と対応するcaseラベルがあるとcaseラベルに処理が移ります。<br>
         対応するcaseラベルが無く、defaultラベルがある場合はdefaultラベルに処理が移ります。<br>
         いずれかのラベルに飛んだ後は、ラベル以降の文を順次実行していきます。<br>
        </span>
       </div>
      </article>
      <article class="cb21">
       <div class="cb31">
        <h3 class="cb40">フォールスルーとbreak文</h3>
        <span class="cb41">
         switch文で気を付けたいのが、順次実行はラベルを超えても続くことです。<br>
         つまり、他の条件で実行したい文をも実行してしまうということです。<br>
         これをフォールスルーと言います。フォールスルーを防ぐには、break文を記述します。<br>
         break文は<code>break;</code>という構文で、順次実行をやめ、switch文から抜けます。<br>
        </span>
       </div>
      </article>
      <article class="cb21 fxtb">
       <h2 class="cb33">コード「if文とswitch文」解説</h2>
       <span class="cb34">
        コード「if文とswitch文」の解説です。
       </span>
      </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">練習問題</h2>
      <div class="cb21 fxlr">
      <span class="cb34">
       Windows APIには<code>POINT</code>構造体が用意されています。<br>
       POINT構造体は<code>LONG</code>という型の変数を<code>x,y</code>と2つ持っています。<br>
       <code>LONG</code>は、int型と同様に整数を扱うlong型のエイリアスです。<br>
       <br>
       <code>POINT</code>構造体変数のペア<code>a,b</code>と<code>x,y</code>について、同一の座標か判定してください。<br>
       関数に切り出しても、<code>wWinMain</code>関数に直接書いても問題ありません。<br>
       <br>
       また、0から5までの値を発生させる<code>random</code>関数が用意されています。<br>
       <code>random</code>関数の返り値に対応する表のメッセージを表示してください。
      </span>
      <div class="cb36 debr">
       <h4 class="cb44">対応表</h4>
       <h4 class="cb45">タイトル</h4>
       <span class="cb41">本文</span>
       <h4 class="cb45">1</h4>
       <span class="cb41">せかいせいふく</span>
       <h4 class="cb45">2</h4>
       <span class="cb41">しぼう</span>
       <h4 class="cb45">3</h4>
       <span class="cb41">にっぽん</span>
       <h4 class="cb45">4</h4>
       <span class="cb41">いみふめい</span>
       <h4 class="cb45">default</h4>
       <span class="cb41">ないです</span>
      </div>
      </div>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">解答の一部</span>
        <button type="button" class="cb53" onclick="copy('ar_not')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="ar_not" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>random<span class="wdsl">&gt;</span>

<span class="wdc_mt">/*POINT構造体の定義**********
* typedef struct tagPOINT *
* {                       *
*    LONG  x;             *
*    LONG  y;             *
* } POINT;                *
**************************/</span>

<span class="wdkywd">int</span> random<span class="wdsl">()</span> <span class="wdsl">{</span>
    std<span class="wdsl">::</span>random_device seed_gen<span class="wdsl">;</span>
    std<span class="wdsl">::</span>default_random_engine engine<span class="wdsl">(</span>seed_gen<span class="wdsl">());</span>
    <span class="wdkywd">return</span> std<span class="wdsl">::</span>uniform_int_distribution<span class="wdsl">&lt;&gt;(</span><span class="wdnr">0</span><span class="wdsl">,</span> <span class="wdnr">4</span><span class="wdsl">)(</span>engine<span class="wdsl">);</span>
<span class="wdsl">}</span>

<span class="wdkywd">int</span> wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    POINT a<span class="wdsl">{</span> <span class="wdnr">50</span><span class="wdsl">,</span><span class="wdnr">100</span> <span class="wdsl">},</span> b<span class="wdsl">{</span> <span class="wdnr">10</span><span class="wdsl">,</span><span class="wdnr">50</span> <span class="wdsl">},</span> x<span class="wdsl">{</span> <span class="wdnr">10</span><span class="wdsl">,</span><span class="wdnr">20</span> <span class="wdsl">},</span> y<span class="wdsl">{</span> <span class="wdnr">10</span><span class="wdsl">,</span><span class="wdnr">20</span> <span class="wdsl">};</span>

    <span class="wdkywd">int</span> random_number <span class="wdsl">=</span> random<span class="wdsl">();</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21 fxlr">
      <details class="cb37">
       <summary class="cb48">解答例</summary>
       <div class="cb46">
        <span class="cb54">練習問題解答</span>
        <button type="button" class="cb53" onclick="copy('ar_1')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="ar_1" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>random<span class="wdsl">&gt;</span>

<span class="wdc_mt">/*POINT構造体の定義**********
* typedef struct tagPOINT *
* {                       *
*    LONG  x;             *
*    LONG  y;             *
* } POINT;                *
**************************/</span>

<span class="wdkywd">int</span> random<span class="wdsl">()</span> <span class="wdsl">{</span>
    std<span class="wdsl">::</span>random_device seed_gen<span class="wdsl">;</span>
    std<span class="wdsl">::</span>default_random_engine engine<span class="wdsl">(</span>seed_gen<span class="wdsl">());</span>
    <span class="wdkywd">return</span> std<span class="wdsl">::</span>uniform_int_distribution<span class="wdsl">&lt;&gt;(</span><span class="wdnr">0</span><span class="wdsl">,</span> <span class="wdnr">4</span><span class="wdsl">)(</span>engine<span class="wdsl">);</span>
<span class="wdsl">}</span>

<span class="wdc_mt">//変数名の表示は問題文に記載がないのでする必要はありません
</span><span class="wdkywd">void</span> is_same<span class="wdsl">(</span>POINT<span class="wdsl">*</span> a<span class="wdsl">,</span> POINT<span class="wdsl">*</span> b<span class="wdsl">,</span> std<span class="wdsl">::</span>wstring<span class="wdsl">*</span> str<span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdkywd">if</span> <span class="wdsl">(</span>a<span class="wdsl">-&gt;</span>x <span class="wdsl">==</span> b<span class="wdsl">-&gt;</span>x <span class="wdsl">&amp;&amp;</span> a<span class="wdsl">-&gt;</span>y <span class="wdsl">==</span> b<span class="wdsl">-&gt;</span>y<span class="wdsl">)</span> <span class="wdsl">{</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"等しいです"</span><span class="wdsl">,</span> str<span class="wdsl">-&gt;</span>c_str<span class="wdsl">(),</span> MB_OK<span class="wdsl">);</span>
    <span class="wdsl">}</span>
    <span class="wdkywd">else</span> <span class="wdsl">{</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"等しくないです"</span><span class="wdsl">,</span> str<span class="wdsl">-&gt;</span>c_str<span class="wdsl">(),</span> MB_OK<span class="wdsl">);</span>
    <span class="wdsl">}</span>
    <span class="wdkywd">return</span><span class="wdsl">;</span>
<span class="wdsl">}</span>

<span class="wdkywd">int</span> wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    POINT a<span class="wdsl">{</span> <span class="wdnr">50</span><span class="wdsl">,</span><span class="wdnr">100</span> <span class="wdsl">},</span> b<span class="wdsl">{</span> <span class="wdnr">10</span><span class="wdsl">,</span><span class="wdnr">50</span> <span class="wdsl">},</span> x<span class="wdsl">{</span> <span class="wdnr">10</span><span class="wdsl">,</span><span class="wdnr">20</span> <span class="wdsl">},</span> y<span class="wdsl">{</span> <span class="wdnr">10</span><span class="wdsl">,</span><span class="wdnr">20</span> <span class="wdsl">};</span>

    is_same<span class="wdsl">(&amp;</span>a<span class="wdsl">,</span> <span class="wdsl">&amp;</span>b<span class="wdsl">,</span> <span class="wdsl">&amp;(</span>std<span class="wdsl">::</span>wstring<span class="wdsl">)</span><span class="wdtt">L"aとbは"</span><span class="wdsl">);</span>
    is_same<span class="wdsl">(&amp;</span>x<span class="wdsl">,</span> <span class="wdsl">&amp;</span>y<span class="wdsl">,</span> <span class="wdsl">&amp;(</span>std<span class="wdsl">::</span>wstring<span class="wdsl">)</span><span class="wdtt">L"xとyは"</span><span class="wdsl">);</span>

    <span class="wdkywd">int</span> random_number <span class="wdsl">=</span> random<span class="wdsl">();</span>
    <span class="wdkywd">switch</span> <span class="wdsl">(</span>random_number<span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdkywd">case</span> <span class="wdnr">1</span><span class="wdsl">:</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"せかいせいふく"</span><span class="wdsl">,</span> <span class="wdtt">L"1"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdkywd">case</span> <span class="wdnr">2</span><span class="wdsl">:</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"しぼう"</span><span class="wdsl">,</span> <span class="wdtt">L"2"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdkywd">case</span> <span class="wdnr">3</span><span class="wdsl">:</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"にっぽん"</span><span class="wdsl">,</span> <span class="wdtt">L"3"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdkywd">case</span> <span class="wdnr">4</span><span class="wdsl">:</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"いみふめい"</span><span class="wdsl">,</span> <span class="wdtt">L"4"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdkywd">default</span><span class="wdsl">:</span>
        MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> <span class="wdtt">L"ないです"</span><span class="wdsl">,</span> <span class="wdtt">L"default"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
        <span class="wdkywd">break</span><span class="wdsl">;</span>
    <span class="wdsl">}</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </details>
     </article>
    </div>
   </div>
   <footer class="cf00">
    <div class="cf10">
     <button class="cf21" onclick="tp()">
      <img class="cf30" src="../../../images/top.png">
     </button>
     <span class="cf20">
      (C) 2020 駒場東邦物理部[KTPC]
     </span>
    </div>
   </footer>
  </div>
 </body>
</html>