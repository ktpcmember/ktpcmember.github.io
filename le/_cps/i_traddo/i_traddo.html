<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <meta name="keywords" content="駒場東邦物理部,駒場東邦,駒東,KTPC,物理部,プログラミング,C++,講習">
  <meta name="description" content="駒場東邦物理部(KTPC)部員向けC++講習の資料です。整数や実数を解説しています。">
  <meta name="author" content="駒場東邦物理部">
  <meta http-equiv="content-language" content="ja">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>整数と実数 - C++講習 - 駒場東邦物理部</title>
  <link rel="icon" type="image/jpeg" href="../../../images/logo.jpg">
  <link rel="stylesheet" type="text/css" href="../../../style.css">
  <link rel="stylesheet" type="text/css" media="(max-width:800px)" href="../../../static.css">
  <script type="text/javascript" src="../../../header.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-133906591-2"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
   
   gtag('config', 'UA-133906591-2');
  </script>
 </head>
 <body>
  <header class="ch00">
   <img class="ch11" src="../../../images/br.jpg">
  </header>
  <div class="chb">
   <div class="ch01">
    <div class="ch10">
     <div class="ch21">
      <button type="button" class="ch31" onclick="ck()">
       <img class="ch42" src="../../../images/menu.png">
      </button>
     </div>
     <div id="hnmu" class="ch22" style="display: none; pointer-events:none;">
      <div class="ch32">
       <span class="ch40">
        <span class="ch50">駒場東邦物理部</span>
       </span>
       <a class="ch41" href="../../../index.html">
        <span class="ch50">トップページ</span>
       </a>
       <a class="ch41" href="../../le.html">
        <span class="ch50">講習トップ</span>
       </a>
      </div>
      <div class="ch32">
       <span class="ch40">
        <span class="ch50">C++講習</span>
       </span>
       <a class="ch41" href="../_cps.html">
        <span class="ch50">目次</span>
       </a>
       <a class="ch41" href="../i_dx/i_dx.html">
        <span class="ch50">索引</span>
       </a>
       <a class="ch41" href="../l_vyadsg/l_vyadsg.html">
        <span class="ch50">前回</span>
       </a>
       <a class="ch41" href="../k_t_fcba/k_t_fcba.html">
        <span class="ch50">次回</span>
       </a>
      </div>
     </div>
    </div>
   </div>
   <div class="cb00">
    <div class="cb10">
     <article class="cb20">
      <h1>C++講習/整数と実数</h1>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">概要</h2>
      <span class="cb34">
       プログラムを書くのですから、数値の計算もしておきましょう。
      </span>
     </article>
     <article class="cb21 fxlr">
      <div class="cb36 debr">
       <h4 class="cb44">
        重要語
       </h4>
       <h4 class="cb45">
        組み込み型
       </h4>
       <span class="cb41">
        C++言語の基礎となる型
       </span>
       <h4 class="cb45">
        ユーザー定義型
       </h4>
       <span class="cb41">
        組み込み型以外の型
       </span>
       <h4 class="cb45">
        算術演算
       </h4>
       <span class="cb41">
        四則演算と剰余算
       </span>
       <h4 class="cb45">
        キャスト
       </h4>
       <span class="cb41">
        組み込み型同士の型変換
       </span>
      </div>
      <div class="cb36 debr">
       <h4 class="cb44">
        必要語
       </h4>
       <span class="cb41">
        今回の必要語はありません。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">型の種類</h2>
      <span class="cb34">
       今回から型が増え始めるので、型の種類について整理しておきます。
      </span>
     </article>
     <article class="cb21 fxlr">
      <div class="cb31">
       <h3 class="cb40">組み込み型</h3>
       <span class="cb41">
        C++言語の基礎となる型を、組み込み型といいます。<br>
        組み込み型は、ライブラリを読み込まなくても使うことができます。<br>
        基本型と呼ばれることもあります。<br>
        本講習では、主に<code>int</code>型、<code>double</code>型、<code>bool</code>型を使います。
       </span>
      </div>
     </article>
     <article class="cb21 fxlr">
      <div class="cb31">
       <h3 class="cb40">ユーザー定義型</h3>
       <span class="cb41">
        組み込み型以外の型を、ユーザー定義型といいます。<br>
        ライブラリによって定義される型などが含まれます。<br>
        <code>std::wstring</code>型はユーザー定義型です。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">変数の宣言</h2>
      <span class="cb34">
       コードに目を通し、実行してみましょう。<br>
       前章と違うところはどこでしょうか。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">変数の宣言/初期化/値の利用</span>
        <button type="button" class="cb53" onclick="copy('saco_1')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_1" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdc_mt">//std::wstringを定義しているライブラリ
</span><span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdc_mt">//宣言、初期化
</span>    std<span class="wdsl">::</span>wstring text <span class="wdsl">=</span> <span class="wdtt">L"Welcome back!"</span><span class="wdsl">;</span>
    <span class="wdc_mt">//メッセージボックスに渡す
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> text.c_str<span class="wdsl">(),</span> <span class="wdtt">L"MessageBoxW1"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">宣言</h3>
       <span class="cb41">
        変数は、使う前に、その名前が変数であることを宣言しなければなりません。<br>
        これには、<code>型名 変数名</code>という構文を使います。<br>
        今回は、<code>std::string</code>型の変数<code>text</code>を宣言しました。
       </span>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">初期化</h3>
       <span class="cb41">
        宣言の構文の後ろに、<code> = L"Welcome back"</code>とついています。<br>
        これをつけることで、変数の初期値を設定することができます。<br>
        このことを、変数の初期化といいます。<br>
        ちなみに、<code>std::string</code>型の初期化をしなかった場合、空の文字列が初期値になります。
       </span>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">値の利用</h3>
       <span class="cb41">
        <code>text.c_str()</code>の部分で値を利用しています。<br>
        前章の通り、<code>c_str</code>関数で変換しています。<br>
        変数の値は、変数名を書くだけで利用できます。
       </span>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">変数の名前</h3>
       <span class="cb41">
        変数の名前に使える文字は、英数字とアンダーバー<code>_</code>です。<br>
        ただし、名前の最初が数字だと、数値とみなされてしまうので、2文字目以降に使いましょう。<br>
        変数名はわかりやすいものをつけるようにしましょう。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">代入</h2>
      <span class="cb34">
       変数のもつ値を変えるには、代入をします。<br>
       変数は、最後に代入された値を保持します。<br>
       次の例を実行してみましょう。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">代入</span>
        <button type="button" class="cb53" onclick="copy('saco_2')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_2" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    std<span class="wdsl">::</span>wstring text <span class="wdsl">=</span> <span class="wdtt">L"First"</span><span class="wdsl">;</span>
    
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> text.c_str<span class="wdsl">(),</span> <span class="wdtt">L"MessageBoxW1"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//代入
</span>    text <span class="wdsl">=</span> <span class="wdtt">L"Second"</span><span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> text.c_str<span class="wdsl">(),</span> <span class="wdtt">L"MessageBoxW2"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">代入</h3>
       <span class="cb41">
        <code>text = L"Second";</code>で、変数<code>text</code>に、値<code>L"Second"</code>を代入しています。<br>
        ここで値が変更され、<code>MessageBoxW</code>の第2引数は同じでも、違う値が表示されるのです。<br>
        代入の文は、型に関わらず<code>変数名 = 値</code>です。<br>
        変数が有効な間は、何度でも代入することができます。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">連結</h2>
      <span class="cb34">
       文字列は、別の文字列と繋げて、長い文字列にすることができます。<br>
       次の例では、文字列Hello, worldを2つの文字列から生成しています。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">連結</span>
        <button type="button" class="cb53" onclick="copy('saco_2')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_2" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    std<span class="wdsl">::</span>wstring text <span class="wdsl">=</span> <span class="wdtt">L"Hello, "</span><span class="wdsl">;</span>
    
    <span class="wdc_mt">//連結と代入
</span>    text <span class="wdsl">=</span> text <span class="wdsl">+</span> <span class="wdtt">L"world"</span><span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> text.c_str<span class="wdsl">(),</span> <span class="wdtt">L"MessageBoxW1"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>

</pre>
       </code>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">連結の記号</h3>
       <span class="cb41">
        <code>text + L"world"</code>で、変数<code>text</code>の値に、<code>L"world"</code>を連結しています。<br>
        さらに、その値を<code>text</code>に代入しています。<br>
        また、連結では、<code>+</code>の左側の値が前になります。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">練習問題</h2>
      <span class="cb34">
       ある人が、月曜日から日曜日まで1週間、毎日箱に果物を詰めることにしました。<br>
       各曜日ごとに、<code>MessageBoxW</code>で、詰めた後箱の中に入っている果物を列挙してください。<br>
       なお、第3引数の方には曜日を表示してください。<br>
       変数と文字列の連結を利用してください。<br>
       また、プログラムは、以下のコードに書き足して作りましょう。
      </span>
     </article>
     <article class="cb21 fxlr">
      <div class="cb31">
       <h3 class="cb40">果物</h3>
       <span class="cb41">
        各曜日には、表のとおりの果物を詰めます。<br>
        果物の名前同士の間にはスペースを1つ入れてください。
       </span>
      </div>
      <div class="cb36 debr">
       <h4 class="cb44">
        詰める果物
       </h4>
       <h4 class="cb45">
        月曜日
       </h4>
       <span class="cb41">
        リンゴ
       </span>
       <h4 class="cb45">
        火曜日
       </h4>
       <span class="cb41">
        バナナ
       </span>
       <h4 class="cb45">
        水曜日
       </h4>
       <span class="cb41">
        イチゴ
       </span>
       <h4 class="cb45">
        木曜日
       </h4>
       <span class="cb41">
        洋ナシ
       </span>
       <h4 class="cb45">
        金曜日
       </h4>
       <span class="cb41">
        ブドウ
       </span>
       <h4 class="cb45">
        土曜日
       </h4>
       <span class="cb41">
        メロン
       </span>
       <h4 class="cb45">
        日曜日
       </h4>
       <span class="cb41">
        ドリアン
       </span>
      </div>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">解答の一部</span>
        <button type="button" class="cb53" onclick="copy('saco_3')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_3" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    std<span class="wdsl">::</span>wstring str0 <span class="wdsl">=</span> <span class="wdtt">L"リンゴ"</span><span class="wdsl">;</span><span class="wdc_mt">//月曜日に加える果物
</span>    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21 fxlr">
      <details class="cb37">
       <summary class="cb48">解答</summary>
       <div class="cb46">
        <span class="cb54">練習問題解答</span>
        <button type="button" class="cb53" onclick="copy('ar_1')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="ar_1" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    std<span class="wdsl">::</span>wstring str1 <span class="wdsl">=</span> <span class="wdtt">L"リンゴ"</span><span class="wdsl">;</span><span class="wdc_mt">//月曜日に加える果物
</span>    std<span class="wdsl">::</span>wstring str2 <span class="wdsl">=</span> <span class="wdtt">L"バナナ"</span><span class="wdsl">;</span><span class="wdc_mt">//火曜日に加える果物
</span>    std<span class="wdsl">::</span>wstring str3 <span class="wdsl">=</span> <span class="wdtt">L"イチゴ"</span><span class="wdsl">;</span><span class="wdc_mt">//以下略
</span>    std<span class="wdsl">::</span>wstring str4 <span class="wdsl">=</span> <span class="wdtt">L"洋ナシ"</span><span class="wdsl">;</span>
    std<span class="wdsl">::</span>wstring str5 <span class="wdsl">=</span> <span class="wdtt">L"ブドウ"</span><span class="wdsl">;</span>
    std<span class="wdsl">::</span>wstring str6 <span class="wdsl">=</span> <span class="wdtt">L"メロン"</span><span class="wdsl">;</span>
    std<span class="wdsl">::</span>wstring str7 <span class="wdsl">=</span> <span class="wdtt">L"ドリアン"</span><span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str1.c_str<span class="wdsl">(),</span> <span class="wdtt">L"月曜日"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span><span class="wdc_mt">//月曜日にはstr1に入っている果物
</span>    str1 <span class="wdsl">=</span> str1 <span class="wdsl">+</span> <span class="wdtt">L" "</span> <span class="wdsl">+</span> str2<span class="wdsl">;</span>                        <span class="wdc_mt">//火曜日に加える果物の文字列を連結
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str1.c_str<span class="wdsl">(),</span> <span class="wdtt">L"火曜日"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span><span class="wdc_mt">//以下繰り返し
</span>    str1 <span class="wdsl">=</span> str1 <span class="wdsl">+</span> <span class="wdtt">L" "</span> <span class="wdsl">+</span> str3<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str1.c_str<span class="wdsl">(),</span> <span class="wdtt">L"水曜日"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    str1 <span class="wdsl">=</span> str1 <span class="wdsl">+</span> <span class="wdtt">L" "</span> <span class="wdsl">+</span> str4<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str1.c_str<span class="wdsl">(),</span> <span class="wdtt">L"木曜日"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    str1 <span class="wdsl">=</span> str1 <span class="wdsl">+</span> <span class="wdtt">L" "</span> <span class="wdsl">+</span> str5<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str1.c_str<span class="wdsl">(),</span> <span class="wdtt">L"金曜日"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    str1 <span class="wdsl">=</span> str1 <span class="wdsl">+</span> <span class="wdtt">L" "</span> <span class="wdsl">+</span> str6<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str1.c_str<span class="wdsl">(),</span> <span class="wdtt">L"土曜日"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    str1 <span class="wdsl">=</span> str1 <span class="wdsl">+</span> <span class="wdtt">L" "</span> <span class="wdsl">+</span> str7<span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> str1.c_str<span class="wdsl">(),</span> <span class="wdtt">L"日曜日"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </details>
     </article>
    </div>
   </div>
   <footer class="cf00">
    <div class="cf10">
     <button class="cf21" onclick="tp()">
      <img class="cf30" src="../../../images/top.png">
     </button>
     <span class="cf20">
      (C) 2020 駒場東邦物理部[KTPC]
     </span>
    </div>
   </footer>
  </div>
 </body>
</html>
