<!DOCTYPE html>
<html>

<head>
 <meta charset="UTF-8">
 <meta name="keywords" content="駒場東邦物理部,駒場東邦,駒東,KTPC,物理部,プログラミング,PIC,C言語,講習">
 <meta name="description" content="駒場東邦物理部(KTPC)部員向けPICマイコン講習（C言語）の資料です。LEDの点灯について解説しています。">
 <meta name="author" content="駒場東邦物理部">
 <meta http-equiv="content-language" content="ja">
 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
 <title>LEDの点灯 - PIC講習 - 駒場東邦物理部</title>
 <link rel="icon" type="image/jpeg" href="../../../images/logo.jpg">
 <link rel="stylesheet" type="text/css" href="../../../style.css">
 <link rel="stylesheet" type="text/css" media="(max-width:800px)" href="../../../static.css">
 <script type="text/javascript" src="../../../header.js"></script>
 <!-- Global site tag (gtag.js) - Google Analytics -->
 <script async src="https://www.googletagmanager.com/gtag/js?id=UA-133906591-2"></script>
 <script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-133906591-2');
 </script>
</head>

<body>
 <header class="ch00">
  <img class="ch11" src="../../../images/br.jpg">
 </header>
 <div class="chb">
  <div class="ch01">
   <div class="ch10">
    <div class="ch21">
     <button type="button" class="ch31" onclick="ck()">
      <img class="ch42" src="../../../images/menu.png">
     </button>
    </div>
    <div id="hnmu" class="ch22" style="display: none; pointer-events:none;">
     <div class="ch32">
      <span class="ch40">
       <span class="ch50">駒場東邦物理部</span>
      </span>
      <a class="ch41" href="../../../index.html">
       <span class="ch50">トップページ</span>
      </a>
      <a class="ch41" href="../../le.html">
       <span class="ch50">講習トップ</span>
      </a>
     </div>
     <div class="ch32">
      <span class="ch40">
       <span class="ch50">PIC講習（C言語）</span>
      </span>
      <a class="ch41" href="../picC.html">
       <span class="ch50">目次</span>
      </a>
      <a class="ch41" href="../none/none.html">
       <span class="ch50">索引</span>
      </a>
      <a class="ch41" href="../helloWorld/helloWorld.html">
       <span class="ch50">前回</span>
      </a>
      <a class="ch41" href="">
       <span class="ch50">次回</span>
      </a>
     </div>
    </div>
   </div>
  </div>
  <div class="cb00">
   <div class="cb10">
    <article class="cb20">
     <h1>PIC講習/LEDの点灯</h1>
    </article>
    <article class="cb21 fxlr">
     <div class="cb36 debr">
      <h4 class="cb44">
       重要語
      </h4>
      <h4 class="cb45">
       コメント
      </h4>
      <span class="cb41">
       人が読むための文章
      </span>
      <h4 class="cb45">
       レジスタ
      </h4>
      <span class="cb41">
       値を記憶する、PICのメモリの一つ
      </span>
      <h4 class="cb45">
       main関数
      </h4>
      <span class="cb41">
       プログラムはここから始まる
      </span>
     </div>
     <div class="cb36 debr">
      <h4 class="cb44">
       必要語
      </h4>
      <span class="cb41">
       今回の必要語はありません。
      </span>
     </div>
    </article>
    <article class="cb21 fxtb">
     <h2 class="cb33">コーディング</h2>
     <span class="cb34">
      それでは、テンプレートを説明していきます。<br>
      この部分は、どのプラグラムにおいてもほとんど変わることはないでしょう。
     </span>
    </article>
    <article class="cb21 fxrl">
     <div class="cb37">
      <div class="cb46">
       <span class="cb54">template</span>
       <button type="button" class="cb53" onclick="copy('template')">
        <span class="cb61">COPY</span>
       </button>
      </div>
      <code class="cb47">
       <pre id="template" class="cb55 bkgdgy">
<span class="cb62"><span class="paghco"><span class="wdc_mt">/****************************
 main.c
 PIC16F1827
 MPLAB X IDE v5.45
 XC8 v2.32
 2021/03/23
 ****************************/</span>

<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>xc.h<span class="wdsl">&gt;</span>

<span class="wdc_mt">// コンフィギュレーションの設定
</span>#pragma config FOSC <span class="wdsl">=</span> INTOSC
#pragma config WDTE <span class="wdsl">=</span> OFF
#pragma config PWRTE <span class="wdsl">=</span> ON
#pragma config MCLRE <span class="wdsl">=</span> OFF
#pragma config CP <span class="wdsl">=</span> OFF
#pragma config CPD <span class="wdsl">=</span> OFF
#pragma config BOREN <span class="wdsl">=</span> ON
#pragma config CLKOUTEN <span class="wdsl">=</span> OFF
#pragma config IESO <span class="wdsl">=</span> OFF
#pragma config FCMEN <span class="wdsl">=</span> OFF

#pragma config WRT <span class="wdsl">=</span> OFF
#pragma config PLLEN <span class="wdsl">=</span> OFF
#pragma config STVREN <span class="wdsl">=</span> ON
#pragma config BORV <span class="wdsl">=</span> HI
#pragma config LVP <span class="wdsl">=</span> OFF

<span class="wdkywd">void</span> main<span class="wdsl">()</span> <span class="wdsl">{</span>
    OSCCON <span class="wdsl">=</span> <span class="wdnr">0b01110010</span><span class="wdsl">;</span>
    ANSELA <span class="wdsl">=</span> <span class="wdnr">0x00</span><span class="wdsl">;</span>
    ANSELB <span class="wdsl">=</span> <span class="wdnr">0x00</span><span class="wdsl">;</span>
    PORTA <span class="wdsl">=</span> <span class="wdnr">0x00</span><span class="wdsl">;</span>
    PORTB <span class="wdsl">=</span> <span class="wdnr">0x00</span><span class="wdsl">;</span>
    TRISA <span class="wdsl">=</span> <span class="wdnr">0x20</span><span class="wdsl">;</span>
    TRISB <span class="wdsl">=</span> <span class="wdnr">0x00</span><span class="wdsl">;</span>

    <span class="wdc_mt">// ここから
</span><span class="wdsl">}</span></span></span></pre>
      </code>
     </div>
    </article>
    <article class="cb21 fxrl">
     <div class="cb31">
      <h3 class="cb40">コメント</h3>
      <span class="cb41">
       <code class="paghco"><span class="wdc_mt">/*</span></code>から<code class="paghco"><span class="wdc_mt">*/</span></code>までがコメントです。
       また、<code class="paghco"><span class="wdc_mt">//</span></code>から行末までの範囲も、コメントとして認識されます。
       プログラムには基本的に半角文字を使いますが、コメントでは全角文字も使うことができます（全角スペースや全角記号をコメント外に書かないように注意です）。
       コメントをつけることで、他人が見た時にここはどのような処理を行っているかということがわかりやすくなったり、数か月後の自分が見た時に思い出しやすくなります。
       プログラマの覚え書きのようなものです。しかし、コンパイラにはコメントは無視されるため、コメントを全く書かなくても動作に何ら影響はありません。
      </span>
     </div>
    </article>
    <article class="cb21 fxrl">
     <div class="cb37">
      <div class="cb46">
       <span class="cb54">comment</span>
       <button type="button" class="cb53" onclick="copy('comment')">
        <span class="cb61">COPY</span>
       </button>
      </div>
      <code class="cb47">
       <pre id="comment" class="cb55 bkgdgy">
<span class="cb62"><span class="paghco"><span class="wdc_mt">/*
ここはコメント
*/</span>
ここはコメントでない <span class="wdc_mt">//ここはコメント
</span>ここはコメントでない</span></span></pre>
      </code>
     </div>
    </article>
    <article class="cb21 fxrl">
     <div class="cb31">
      <h3 class="cb40">include</h3>
      <span class="cb41">
       <code class="paghco"><span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>xc.h<span class="wdsl">&gt;</span></code>
       という記述は、xc.hというヘッダファイルを読み込んでくださいという記述です。この記述によって、PORTAやOSCCONといったPIC特有のものを使うことができます。
      </span>
     </div>
    </article>
    <article class="cb21 fxrl">
     <div class="cb31">
      <h3 class="cb40">config</h3>
      <span class="cb41">
       <code class="paghco">#pragma config</code>という記述がたくさん並んでいますが、これはPICの設定を決める記述です。
       PICのどの機能を使ってどの機能を使わないかを選択しています。ここを書き換えることは当分ありませんので、書き換える時に説明したいと思います。
      </span>
     </div>
    </article>
    <article class="cb21 fxrl">
     <div class="cb31">
      <h3 class="cb40">main関数</h3>
      <span class="cb41">
       mainというからには、ここが一番重要です。プログラムが開始されるとき、すなわちPICの場合は電源が入ったとき
       （厳密に言えば電源が入ってから数十ms後）は、ここから始まります。
       <code class="paghco">main<span class="wdsl">()</span></code>の前に<code class="paghco"><span class="wdkywd">void</span></code>という記述がありますが、
       これは返り値がないことを示しているのですが、詳しくは関数のところでやりますので、あまり気にしないでください。
       main関数が始まると、<code class="paghco"><span class="wdsl">{</span></code>と
       <code class="paghco"><span class="wdsl">}</span></code>で囲まれた部分（これをブロックといいます）の処理を上から順番に実行していきます。
      </span>
     </div>
    </article>
   </div>
  </div>
  <footer class=" cf00">
   <div class="cf10">
    <button class="cf21" onclick="tp()">
     <img class="cf30" src="../../../images/top.png">
    </button>
    <span class="cf20">
     (C) 2020 駒場東邦物理部[KTPC]
    </span>
   </div>
  </footer>
 </div>
</body>

</html>