<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="keywords" content="駒場東邦物理部,駒場東邦,駒東,KTPC,物理部,プログラミング,講習,Vlrfsasm"><meta name="description" content="駒場東邦物理部(KTPC)部員向けVlrfsasm講習の資料です。"><meta name="author" content="駒場東邦物理部"><meta http-equiv="content-language" content="ja"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>準備 - Vlrfsasm講習 - 駒場東邦物理部</title><link rel="icon" type="image/jpeg" href="../../../images/logo.jpg"><link rel="stylesheet" type="text/css" href="../../../tool/vlrfsasmKtpc/style/default.css"><link rel="stylesheet" type="text/css" media="(max-width:800px)" href="../../../tool/vlrfsasmKtpc/style/narrow.css"><script src="../../../tool/vlrfsasmKtpc/js/search.js"></script><script src="https://www.googletagmanager.com/gtag/js?id=UA-133906591-2"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-133906591-2')</script></head><body class="hBody"><header class="hHeader"><image class="hBanner" src="../../../images/br.jpg"></header><div class="hBeneathHeader"><div class="hMenuSide"><div class="hMenuBack"><div class="hMenuButtonBack"><button class="hMenuButton" onclick="menu()"><image class="hMenuButtonImage" src="../../../images/menu.png"></button></div><div class="hMenuLink" style="display: none; pointer-events: none;" id="menuLink"><div class="hMenuLinkGroup"><div class="hMenuLinkTitle"><span class="hMenuLinkText">駒場東邦物理部</span></div><a class="hMenuLinkElement" href="../../../index.html"><span class="hMenuLinkText">トップページ</span></a><a class="hMenuLinkElement" href="../../../le/le.html"><span class="hMenuLinkText">講習トップ</span></a></div><div class="hMenuLinkGroup"><div class="hMenuLinkTitle"><span class="hMenuLinkText">Vlrfsasm講習</span></div><a class="hMenuLinkElement" href="../vlrfsasm.html"><span class="hMenuLinkText">講習トップ</span></a><a class="hMenuLinkElement" href="../syntax/syntax.html"><span class="hMenuLinkText">構文</span></a></div></div><div class="hMenuWord" style="display: none; pointer-events: none;" id="menuWord"></div></div></div><div class="hContentSide"><div class="hContentBack"><article class="cArticle"><h2 class="cArticleTitle">概要</h2><div class="cArticleCaption"><p class="cP">本章では、必要なツールを導入する方法と、動かし方とを学びます。</p></div></article><article class="cArticle"><h2 class="cArticleTitle">フォルダ</h2><div class="cArticleCaption"><p class="cP">まずは、ファイルを配置するフォルダを作ります。</p></div><section class="cSection"><h2 class="cSectionTitle">基点フォルダ作成</h2><p class="cP">ファイルがあちこちに散らばっていては、作業に不便です。そこで、1つフォルダを作り、ここに全てのファイルやフォルダを入れることにします。今後、このフォルダを「基点フォルダ」と呼びます。基点フォルダはわかりやすい位置にあるのが好ましいので、迷ったらとりあえずデスクトップに置いてしまいましょう。名前は<span class="cCodeSingle"><span class="qLine"><span class="qPathName">vlrfsasm</span></span></span>とします。</p></section><section class="cSection"><h2 class="cSectionTitle">作業フォルダ</h2><p class="cP">さて、基点フォルダの中についても、散らかしたくはありません。新しいことを始めるときや、構造が混迷してしまい、刷新したいときには、必ず新しいフォルダを作ります。これは、Vlrfsasmに限らず、何にでも適用して損はないことですから、癖にしましょう。本講習では、この新しいフォルダを「作業フォルダ」と呼び、毎章ごとに作ってもらいます。</p></section></article><article class="cArticle"><h2 class="cArticleTitle">ツール</h2><div class="cArticleCaption"><p class="cP">必要なアプリと、その導入方法とを紹介します。</p></div><section class="cSection"><h2 class="cSectionTitle">ダウンロード</h2><p class="cP">まず、Vlrfsasmを導入します。<a class="cLink" href="https://github.com/vlrfsg/vlrfsasm">Githubで公開</a>しているので、<a class="cLink" href="https://github.com/vlrfsg/vlrfsasm/releases/download/v0.7.1/Vlrfsasm_v0.7.1.zip">このリンク</a>からダウンロードし、zipファイルを基点フォルダ内に解凍してください。解凍されたフォルダは<span class="cCodeSingle"><span class="qLine"><span class="qPathName">Vlrfsasm_v0.7</span></span></span>という名前になりますが、このままではアップデート毎に変えなくてはならないので、<span class="cCodeSingle"><span class="qLine"><span class="qPathName">assembler</span></span></span>と改名しておいてください。</p></section><section class="cSection"><h2 class="cSectionTitle">バッチファイル</h2><p class="cP">次に、バッチファイルを作ります。メモ帳などのテキストエディタを起動し、以下の内容をコピーして貼り付けてください。</p><p class="cP"><div class="cCodeFrame"><div class="cCodeMenu"><span class="cCodeMenuTitle">batファイルの内容</span><button class="cCodeMenuElement cCodeMenuButton cCodeMenuRight" onclick="copyScript(this)"><image class="cCodeMenuIcon" src="../../../images/icon/copy.svg"><span class="cCodeMenuText">COPY</span></button><span class="cCodeMenuElement cCodeMenuRight cCodeMenuInvisible"><image class="cCodeMenuIcon" src="../../../images/icon/done.svg"><span class="cCodeMenuText">COPIED!</span></span></div><code class="cCodeMulti"><pre class="cCodePre"><span class="qLine"><span class="qPathName">@set sourceFolder=%CD%</span></span><span class="qLine qLineEven"><span class="qPathName">@cd ..</span><span class="qPathSplit">\</span><span class="qPathName">assembler</span></span><span class="qLine"><span class="qPathName">start vlrfsasm %sourceFolder%</span><span class="qPathSplit">\</span><span class="qPathName">result.txt %sourceFolder%</span><span class="qPathSplit">\</span><span class="qPathName">message.log %sourceFolder%</span><span class="qPathSplit">\</span><span class="qPathName">source.vlra def</span><span class="qPathSplit">\</span><span class="qPathName">common.vlra</span></span></pre></code></div></p><p class="cP">そして、基点フォルダ内に、<span class="cCodeSingle"><span class="qLine"><span class="qPathName">assemble.bat</span></span></span>という名前で、保存してください。文字コードはUTF-8にしましょう。このバッチファイルは、各章で使い回します。</p></section><section class="cSection"><h2 class="cSectionTitle">バイナリエディタ</h2><p class="cP">本講習では少ししか使いませんが、vlrfsasmはもともとバイナリファイルを扱うために作ったので、使う機会はあると思います。データを読み出すだけですので、何でも構いません。使い慣れているものがあればそれを使ってください。参考までに、Vlrfsasmの作者は<a class="cLink" href="http://www.vector.co.jp/soft/dl/winnt/util/se504539.html">FavBinEdit</a>を使っています。いずれにせよ、各ソフトウェアの指示に従ってインストールしてください。</p></section><section class="cSection"><h2 class="cSectionTitle">テキストエディタ</h2><p class="cP">メモ帳で構いませんが、これも使い慣れているものを使ってください。ただし、拡張表示機能などのファイルは提供していません。また、スタートメニューにショートカットを貼っておくと便利でしょう。</p></section></article><article class="cArticle"><h2 class="cArticleTitle">Hello world</h2><div class="cArticleCaption"><p class="cP">それでは、動作確認を兼ねて、少し動かしてみましょう。</p></div><section class="cSection"><h2 class="cSectionTitle">ソースコード</h2><p class="cP">基点フォルダ内に<span class="cCodeSingle"><span class="qLine"><span class="qPathName">hello</span></span></span>というフォルダを作り、さきほど作ったバッチファイルをコピーして入れてください。また以下のソースコードを、<span class="cCodeSingle"><span class="qLine"><span class="qPathName">source.vlra</span></span></span>という名前でこのフォルダに保存してください。Vlrfsasmのソースコードは、常に<span class="cCodeSingle"><span class="qLine"><span class="qPathName">.vlra</span></span></span>という拡張子を付け、文字コードはUTF-8で保存してください。</p><p class="cP"><div class="cCodeFrame"><div class="cCodeMenu"><span class="cCodeMenuTitle">ソースコード</span><button class="cCodeMenuElement cCodeMenuButton cCodeMenuRight" onclick="copyScript(this)"><image class="cCodeMenuIcon" src="../../../images/icon/copy.svg"><span class="cCodeMenuText">COPY</span></button><span class="cCodeMenuElement cCodeMenuRight cCodeMenuInvisible"><image class="cCodeMenuIcon" src="../../../images/icon/done.svg"><span class="cCodeMenuText">COPIED!</span></span></div><code class="cCodeMulti"><pre class="cCodePre"><span class="qLine"><span class="qVlrComment">[文字列「Hello world!」を出力します]</span><span class="qVlrSplit"></span></span><span class="qLine"><span class="qVlrSplit"></span></span><span class="qLine"><span class="qVlrSplit"></span><span class="qVlrSymbol">{</span><span class="qVlrBuiltin">.</span><span class="qVlrSymbol">;</span><span class="qVlrSplit"> </span><span class="qVlrSymbol">;</span><span class="qVlrSplit"> </span><span class="qVlrSymbol">(</span><span class="qVlrName">c.convertSbS8</span><span class="qVlrSplit"> </span><span class="qVlrString">"Hello world!"</span><span class="qVlrSymbol">)</span><span class="qVlrSymbol">}</span><span class="qVlrSplit"></span></span><span class="qLine qLineEven"><span class="qVlrSplit"></span></span></pre></code></div></p></section><section class="cSection"><h2 class="cSectionTitle">実行</h2><p class="cP">バッチファイルをダブルクリックして実行すると、Vlrfsasmが実行されます。うまくいけば、<span class="cCodeSingle"><span class="qLine"><span class="qPathName">hello</span></span></span>フォルダ内に、<span class="cCodeSingle"><span class="qLine"><span class="qPathName">result.txt</span></span></span>と<span class="cCodeSingle"><span class="qLine"><span class="qPathName">message.log</span></span></span>が出力されているはずです。上手く行かないときは、ファイル名や文字コードなどを確認しましょう。メモ帳では、ファイルメニューの「名前を付けて保存」から、文字コードを設定して保存し直せます。</p></section><section class="cSection"><h2 class="cSectionTitle">結果</h2><p class="cP">さて、生成された2つのファイルを開き、中身が以下のようになっていれば成功です。ただし、<span class="cCodeSingle"><span class="qLine"><span class="qPathName">message.log</span></span></span>の赤下線部には、実行日時が書かれています。これはコンピュータの現地時刻なので、時差を含みます。また、その下に出力ファイルのパスなどが表示されますが、青下線部のように個人情報を含むことがあるので、誤って公開しないよう注意しましょう。</p><p class="cP"><div class="cCodeFrame"><div class="cCodeMenu"><span class="cCodeMenuTitle"><span class="cCodeSingle"><span class="qLine"><span class="qPathName">result.txt</span></span></span></span><button class="cCodeMenuElement cCodeMenuButton cCodeMenuRight" onclick="copyScript(this)"><image class="cCodeMenuIcon" src="../../../images/icon/copy.svg"><span class="cCodeMenuText">COPY</span></button><span class="cCodeMenuElement cCodeMenuRight cCodeMenuInvisible"><image class="cCodeMenuIcon" src="../../../images/icon/done.svg"><span class="cCodeMenuText">COPIED!</span></span></div><code class="cCodeMulti"><pre class="cCodePre"><span class="qLine"><span class="qPathName">Hello world!</span></span></pre></code></div><div class="cCodeFrame"><div class="cCodeMenu"><span class="cCodeMenuTitle"><span class="cCodeSingle"><span class="qLine"><span class="qPathName">message.log</span></span></span></span><button class="cCodeMenuElement cCodeMenuButton cCodeMenuRight" onclick="copyScript(this)"><image class="cCodeMenuIcon" src="../../../images/icon/copy.svg"><span class="cCodeMenuText">COPY</span></button><span class="cCodeMenuElement cCodeMenuRight cCodeMenuInvisible"><image class="cCodeMenuIcon" src="../../../images/icon/done.svg"><span class="cCodeMenuText">COPIED!</span></span></div><code class="cCodeMulti"><pre class="cCodePre"><span class="qLine"><span class="qPathName">Vlrfsasm v0.7 </span><span class="qComURed"><span class="qPathName">2021-11-27 18</span><span class="qPathSplit">:</span><span class="qPathName">00</span></span><span class="qPathName"></span></span><span class="qLine qLineEven"><span class="qPathName">  15</span><span class="qPathSplit">:</span><span class="qPathName">Complete</span></span><span class="qLine"><span class="qPathName">  C</span><span class="qPathSplit">:\</span><span class="qPathName">Users</span><span class="qPathSplit">\</span><span class="qComUBlue"><span class="qPathName">vlrfsg</span></span><span class="qPathSplit">\</span><span class="qPathName">Desktop</span><span class="qPathSplit">\</span><span class="qPathName">vlrfsasm</span><span class="qPathSplit">\</span><span class="qPathName">hello</span><span class="qPathSplit">\</span><span class="qPathName">result.txt</span></span></pre></code></div></p><p class="cP">なお、青下線部は架空のものです。</p></section><section class="cSection"><h2 class="cSectionTitle">終了</h2><p class="cP">本章の内容は以上です。Vlrfsasmは勝手に終了していますから、開いたテキストエディタなどを閉じれば片付けも終わりです。</p></section><section class="cSection"><h2 class="cSectionTitle">テスト</h2><p class="cP"><svg class="cSvg" width="24px" height="16px" viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg" stroke="none" fill="black"><path d="M 0.00 11.67 h 2.00 l 2.00 3.88 l 6.00 -13.57 h 7.14" stroke="black" fill="none"/><text x="8.00" y="15.57" font-size="16.00px">2</text><text x="17.14" y="15.57" font-size="16.00px">𝑥</text></svg></p></section></article></div></div><div class="hFooterSide"><footer class="hFooter"><button class="hFooterButton" onclick="scrollToTop"><image class="hFooterButtonImage" src="../../../images/top.png"></button><span class="hFooterText">(C) 2020 駒場東邦物理部</span></footer></div></div></body></html>