<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8">
  <meta name="keywords" content="駒場東邦物理部,駒場東邦,駒東,KTPC,物理部,プログラミング,C++,講習">
  <meta name="description" content="駒場東邦物理部(KTPC)部員向けC++ with Windows API講習の資料です。整数や実数を解説しています。">
  <meta name="author" content="駒場東邦物理部">
  <meta http-equiv="content-language" content="ja">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>整数と実数 - C++ with Windows API講習 - 駒場東邦物理部</title>
  <link rel="icon" type="image/jpeg" href="../../../../images/logo.jpg">
  <link rel="stylesheet" type="text/css" href="../../../../style.css">
  <link rel="stylesheet" type="text/css" media="(max-width:800px)" href="../../../../static.css">
  <script type="text/javascript" src="../../../../header.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-133906591-2"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
   
   gtag('config', 'UA-133906591-2');
  </script>
 </head>
 <body>
  <header class="ch00">
   <img class="ch11" src="../../../../images/br.jpg">
  </header>
  <div class="chb">
   <div class="ch01">
    <div class="ch10">
     <div class="ch21">
      <button type="button" class="ch31" onclick="ck()">
       <img class="ch42" src="../../../../images/menu.png">
      </button>
     </div>
     <div id="hnmu" class="ch22" style="display: none; pointer-events:none;">
      <div class="ch32">
       <span class="ch40">
        <span class="ch50">駒場東邦物理部</span>
       </span>
       <a class="ch41" href="../../../../index.html">
        <span class="ch50">トップページ</span>
       </a>
       <a class="ch41" href="../../../le.html">
        <span class="ch50">講習トップ</span>
       </a>
      </div>
      <div class="ch32">
       <span class="ch40">
        <span class="ch50">C++ with Windows API講習</span>
       </span>
       <a class="ch41" href="../../_cps.html">
        <span class="ch50">目次</span>
       </a>
       <a class="ch41" href="../i_dx/i_dx.html">
        <span class="ch50">索引</span>
       </a>
       <a class="ch41" href="../l_vyadsg/l_vyadsg.html">
        <span class="ch50">前回</span>
       </a>
       <a class="ch41" href="../k_t_fcba/k_t_fcba.html">
        <span class="ch50">次回</span>
       </a>
      </div>
     </div>
    </div>
   </div>
   <div class="cb00">
    <div class="cb10">
     <article class="cb20">
      <h1>C++ with Windows API講習/整数と実数</h1>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">概要</h2>
      <span class="cb34">
       プログラムを書くのですから、数値の計算もしておきましょう。
      </span>
     </article>
     <article class="cb21 fxlr">
      <div class="cb36 debr">
       <h4 class="cb44">
        重要語
       </h4>
       <h4 class="cb45">
        組み込み型
       </h4>
       <span class="cb41">
        C++言語の基礎となる型
       </span>
       <h4 class="cb45">
        ユーザー定義型
       </h4>
       <span class="cb41">
        組み込み型以外の型
       </span>
       <h4 class="cb45">
        算術演算
       </h4>
       <span class="cb41">
        四則演算と剰余算
       </span>
       <h4 class="cb45">
        キャスト
       </h4>
       <span class="cb41">
        組み込み型同士の型変換
       </span>
      </div>
      <div class="cb36 debr">
       <h4 class="cb44">
        必要語
       </h4>
       <span class="cb41">
        今回の必要語はありません。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">型の種類</h2>
      <span class="cb34">
       今回から型が増え始めるので、型の種類について整理しておきます。
      </span>
     </article>
     <article class="cb21 fxlr">
      <div class="cb31">
       <h3 class="cb40">組み込み型</h3>
       <span class="cb41">
        C++言語の基礎となる型を、組み込み型といいます。<br>
        組み込み型は、ライブラリを読み込まなくても使うことができます。<br>
        基本型と呼ばれることもあります。<br>
        本講習では、主に<code>int</code>型、<code>double</code>型、<code>bool</code>型を使います。<br>
        なお、型という言葉で組み込み型のみを表す場合もありますが、本講習にはありません。
       </span>
      </div>
     </article>
     <article class="cb21 fxlr">
      <div class="cb31">
       <h3 class="cb40">ユーザー定義型</h3>
       <span class="cb41">
        組み込み型以外の型を、ユーザー定義型といいます。<br>
        ライブラリによって定義される型などが含まれます。<br>
        <code>std::wstring</code>型はユーザー定義型です。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">文字列への変換</h2>
      <span class="cb34">
       整数から文字列への変換を行ってみましょう。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">文字列への変換</span>
        <button type="button" class="cb53" onclick="copy('saco_1')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_1" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdc_mt">//std::wstring, std::to_wstring()を定義しているライブラリ
</span><span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdc_mt">//整数2020を文字列に変換して表示
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">2020</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"MessageBoxW1"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//整数16.7を文字列に変換して表示
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">16.7</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"MessageBoxW2"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">整数と実数</h3>
       <span class="cb41">
        整数は、半角数字でそのまま書きます。<br>
        小数は、小数点<code>.</code>をつけて書きます。<br>
        小数点以下しかない場合でも、整数部に0を書いてください。<br>
        つまり、<code>.5</code>ではなく、<code>0.5</code>と書いてください。
       </span>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">文字列への変換</h3>
       <span class="cb41">
        数値を<code>std::wstring</code>型に変換するには、<code>std::to_wstring</code>関数を使います。<br>
        <code>c_str</code>関数とは違い、<code>std::to_wstring(変換する数値)</code>のように引数を書きます。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">算術演算</h2>
      <span class="cb34">
       算術演算とは、四則演算と剰余算の5種類の演算のことです。<br>
       まずは例を見てみましょう。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">整数の算術演算</span>
        <button type="button" class="cb53" onclick="copy('saco_2')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_2" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdc_mt">//加算,足し算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">2</span> <span class="wdsl">+</span> <span class="wdnr">3</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"2+3="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//減算,引き算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">9</span> <span class="wdsl">-</span> <span class="wdnr">2</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"9-2="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//乗算,掛け算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">51</span> <span class="wdsl">*</span> <span class="wdnr">7</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"51*7="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//除算,割り算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">12</span> <span class="wdsl">/</span> <span class="wdnr">4</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"12/4="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//剰余算,余り算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">23</span> <span class="wdsl">%</span> <span class="wdnr">3</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"23%3="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">剰余算</h3>
       <span class="cb41">
        四則演算にはなじみがあるでしょうが、剰余算は聞いたことがないかもしれません。<br>
        これは、割り算をした時の余りを求める計算です。<br>
        いくつか計算をして確かめるとよいでしょう。
       </span>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">記号</h3>
       <span class="cb41">
        <code>+</code>と<code>-</code>は数学と同じ記号です。<br>
        しかし、×や÷は使われず、<code>*</code>と<code>/</code>が使われます。<br>
        ×や÷はASCIIに含まれず、昔は表示できないコンピュータもあったためです。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">負数と丸め</h2>
      <span class="cb34">
       負数は、数字の前に<code>-</code>をつけることで表わせます。<br>
       それでは、次の例を実行してみましょう。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">負数と丸め</span>
        <button type="button" class="cb53" onclick="copy('saco_3')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_3" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdc_mt">//負数の足し算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(-</span><span class="wdnr">2</span> <span class="wdsl">+</span> <span class="wdnr">3</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"-2+3="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//負数の引き算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">9</span> <span class="wdsl">-</span> <span class="wdsl">-</span><span class="wdnr">2</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"9-(-2)="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//負数の掛け算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">51</span> <span class="wdsl">*</span> <span class="wdsl">-</span><span class="wdnr">7</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"51*(-7)="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//正数の丸め
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">13</span> <span class="wdsl">/</span> <span class="wdnr">5</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"13/5="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//負数の丸め
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(-</span><span class="wdnr">20</span> <span class="wdsl">/</span> <span class="wdnr">7</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"-20/7="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21">
      <div class="cb31">
       <h3 class="cb40">0への丸め</h3>
       <span class="cb41">
        この例のうち、最後の2つの式では、答えが整数になりません。<br>
        整数と整数の計算をして、結果が整数でない場合、0に向かって切り捨てられます。<br>
        このことを、0への丸めといいます。
       </span>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">実数の計算</h2>
      <span class="cb34">
       実数でも整数と同じように算術演算できますが、結果の丸めは起こりません。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">実数の計算</span>
        <button type="button" class="cb53" onclick="copy('saco_4')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_4" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdc_mt">//実数の加算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">1.2</span> <span class="wdsl">+</span> <span class="wdnr">3.4</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"1.2+3.4="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//実数の乗算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">1.125</span> <span class="wdsl">*</span> <span class="wdsl">-</span><span class="wdnr">0.8</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"1.125*(-0.8)="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdc_mt">//実数の除算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">1.0</span> <span class="wdsl">/</span> <span class="wdnr">3.0</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"1.0/3.0="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>

    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">型の異なる値の計算</h2>
      <span class="cb34">
       実数と整数のように、型の異なる値でも、数値ならば算術演算できます。<br>
       ただし、表わせる範囲の狭い型の値が、広い型の値に変換され、計算されます。<br>
       整数の<code>int</code>型と実数の<code>double</code>型では、後者の方が広い範囲を表せます。<br>
       そこで、<code>double</code>型の値同士のように計算されるのです。<br>
       この変換は自動で行われるので、暗黙の型変換と呼ばれます。<br>
       ただし、この変換は組み込み型にしか適用されません。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">型の異なる値の計算</span>
        <button type="button" class="cb53" onclick="copy('saco_5')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_5" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">){</span>
     <span class="wdc_mt">//整数と実数
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">1.5</span> <span class="wdsl">+</span> <span class="wdnr">4</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"1.5+4="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//順番は逆でもよい
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">7</span> <span class="wdsl">*</span> <span class="wdnr">1.7</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"7*1.7="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//丸めは起こらない
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">1.0</span> <span class="wdsl">/</span> <span class="wdnr">3</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"1.0/3="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">キャスト</h2>
      <span class="cb34">
       暗黙の型変換と違い、明示的に型を変換することをキャストといいます。<br>
       これには、<code>(変換先型名)変換する値</code>という構文を使います。<br>
       暗黙の型変換と同じく、キャストも組み込み型にしか適用できません。<br>
       例えば、<code>std::wstring</code>型の値を変換したり、他の型から変換することはできません。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">キャスト</span>
        <button type="button" class="cb53" onclick="copy('saco_6')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_6" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">){</span>
     <span class="wdc_mt">//実数への変換
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">((</span><span class="wdkywd">double</span><span class="wdsl">)</span><span class="wdnr">50</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"実数への変換"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//整数への変換
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">((</span><span class="wdkywd">int</span><span class="wdsl">)</span><span class="wdnr">6.2</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"整数への変換"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//丸め回避
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">2</span><span class="wdsl">/(</span><span class="wdkywd">double</span><span class="wdsl">)</span><span class="wdnr">7</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"2/7.0="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">数値の変数</h2>
      <span class="cb34">
       前章では文字列の変数を用意しました。<br>
       同じように、<code>int</code>型や<code>double</code>型の変数を使ってみましょう。<br>
       変数も、数字と同じように、算術演算やキャストして使うことができます。<br>
       なお、変数の値をキャストしても、変数そのものの型や値は変わりません。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">数値の変数</span>
        <button type="button" class="cb53" onclick="copy('saco_7')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="saco_7" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">){</span>
    <span class="wdc_mt">//整数型変数の宣言と初期化
</span>    <span class="wdkywd">int</span> a <span class="wdsl">=</span> <span class="wdsl">-</span><span class="wdnr">1452</span><span class="wdsl">;</span>
    <span class="wdc_mt">//値の表示
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>a<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"a="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//代入
</span>    a <span class="wdsl">=</span> <span class="wdnr">90</span><span class="wdsl">;</span>
    <span class="wdc_mt">//加算
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>a <span class="wdsl">+</span> <span class="wdnr">30</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"a+30="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//実数型変数の宣言と初期化
</span>    <span class="wdkywd">double</span> b <span class="wdsl">=</span> <span class="wdnr">20.6</span><span class="wdsl">;</span>
    <span class="wdc_mt">//暗黙の型変換1
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>b <span class="wdsl">+</span> <span class="wdnr">5</span><span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"b+5="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//キャスト
</span>    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">((</span><span class="wdkywd">int</span><span class="wdsl">)</span>b<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"キャスト"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdc_mt">//暗黙の型変換2
</span>    a <span class="wdsl">=</span> b <span class="wdsl">*</span> <span class="wdnr">4</span><span class="wdsl">;</span>
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>a<span class="wdsl">)</span>.c_str<span class="wdsl">(),</span> <span class="wdtt">L"a="</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21 fxtb">
      <h2 class="cb33">練習問題</h2>
      <span class="cb34">
       円周率を3.14として、<code>double</code>型変数<code>pi</code>に代入してください。<br>
       また、円の半径を10として、<code>int</code>型変数<code>r</code>に代入してください。<br>
       そして、この円の円周と面積を求めてください。<br>
       最後に、「半径<code>rの数値</code>の円の円周の長さは<code>長さ</code>、面積は<code>面積</code>です。」のように、繋げて表示してください。
      </span>
     </article>
     <article class="cb21 fxrl">
      <div class="cb37">
       <div class="cb46">
        <span class="cb54">解答の一部</span>
        <button type="button" class="cb53" onclick="copy('ar_1')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="ar_1" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdc_mt">//この後に連結すること
</span>    std<span class="wdsl">::</span>wstring text<span class="wdsl">=</span><span class="wdtt">"半径"</span><span class="wdsl">;</span>
    
    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </div>
     </article>
     <article class="cb21 fxlr">
      <details class="cb37">
       <summary class="cb48">解答</summary>
       <div class="cb46">
        <span class="cb54">練習問題解答</span>
        <button type="button" class="cb53" onclick="copy('ar_2')">
         <span class="cb61">COPY</span>
        </button>
       </div>
       <code class="cb47">
<pre id="ar_2" class="cb55 bkgdbl">
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>Windows.h<span class="wdsl">&gt;</span>
<span class="wdp_q_p_csc_md">#include</span> <span class="wdsl">&lt;</span>string<span class="wdsl">&gt;</span>

<span class="wdkywd">int</span> WINAPI wWinMain<span class="wdsl">(</span>HINSTANCE<span class="wdsl">,</span> HINSTANCE<span class="wdsl">,</span> LPWSTR<span class="wdsl">,</span> <span class="wdkywd">int</span><span class="wdsl">)</span> <span class="wdsl">{</span>
    <span class="wdc_mt">//この後に連結すること
</span>    std<span class="wdsl">::</span>wstring text <span class="wdsl">=</span> <span class="wdtt">L"半径"</span><span class="wdsl">;</span>
    <span class="wdkywd">double</span> pi <span class="wdsl">=</span> <span class="wdnr">3.14</span><span class="wdsl">;</span>
    <span class="wdkywd">int</span> r <span class="wdsl">=</span> <span class="wdnr">10</span><span class="wdsl">;</span>
    
    text <span class="wdsl">=</span> text <span class="wdsl">+</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>r<span class="wdsl">);</span>
    text <span class="wdsl">=</span> text <span class="wdsl">+</span> <span class="wdtt">L"の円の円周の長さは"</span> <span class="wdsl">+</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span><span class="wdnr">2</span> <span class="wdsl">*</span> r <span class="wdsl">*</span> pi<span class="wdsl">)</span> <span class="wdsl">+</span> <span class="wdtt">L"、"</span><span class="wdsl">;</span>
    text <span class="wdsl">=</span> text <span class="wdsl">+</span> <span class="wdtt">L"面積は"</span> <span class="wdsl">+</span> std<span class="wdsl">::</span>to_wstring<span class="wdsl">(</span>r <span class="wdsl">*</span> r <span class="wdsl">*</span> pi<span class="wdsl">)</span> <span class="wdsl">+</span> <span class="wdtt">L"です。"</span><span class="wdsl">;</span>
    
    MessageBoxW<span class="wdsl">(</span>NULL<span class="wdsl">,</span> text.c_str<span class="wdsl">(),</span> <span class="wdtt">L"円周と面積"</span><span class="wdsl">,</span> MB_OK<span class="wdsl">);</span>
    
    <span class="wdkywd">return</span> <span class="wdnr">0</span><span class="wdsl">;</span>
<span class="wdsl">}</span>
</pre>
       </code>
      </details>
     </article>
    </div>
   </div>
   <footer class="cf00">
    <div class="cf10">
     <button class="cf21" onclick="tp()">
      <img class="cf30" src="../../../../images/top.png">
     </button>
     <span class="cf20">
      (C) 2020 駒場東邦物理部[KTPC]
     </span>
    </div>
   </footer>
  </div>
 </body>
</html>
