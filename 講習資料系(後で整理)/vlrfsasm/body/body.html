<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="keywords" content="駒場東邦物理部,駒場東邦,駒東,KTPC,物理部,プログラミング,講習,Vlrfsasm"><meta name="description" content="駒場東邦物理部(KTPC)部員向けVlrfsasm講習の資料です。"><meta name="author" content="駒場東邦物理部"><meta http-equiv="content-language" content="ja"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>本文 - Vlrfsasm講習 - 駒場東邦物理部</title><link rel="icon" type="image/jpeg" href="../../../images/logo.jpg"><link rel="stylesheet" type="text/css" href="../../../tool/vlrfsasmKtpc/style/default.css"><link rel="stylesheet" type="text/css" media="(max-width:800px)" href="../../../tool/vlrfsasmKtpc/style/narrow.css"><script src="../../../tool/vlrfsasmKtpc/js/search.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-NYLVKLP28G"></script async><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-NYLVKLP28G')</script></head><body class="hBody"><header class="hHeader"><image class="hBanner" src="../../../images/br.jpg"></header><div class="hBeneathHeader"><div class="hMenuSide"><div class="hMenuBack"><div class="hMenuButtonBack"><button class="hMenuButton" onclick="menu()"><image class="hMenuButtonImage" src="../../../images/menu.png"></button></div><div class="hMenuLink" style="display: none; pointer-events: none;" id="menuLink"><div class="hMenuLinkGroup"><div class="hMenuLinkTitle"><span class="hMenuLinkText">駒場東邦物理部</span></div><a class="hMenuLinkElement" href="../../../../../../index.html"><span class="hMenuLinkText">トップページ</span></a><a class="hMenuLinkElement" href="../../../../../../le/le.html"><span class="hMenuLinkText">講習一覧</span></a></div><div class="hMenuLinkGroup"><div class="hMenuLinkTitle"><span class="hMenuLinkText">Vlrfsasm講習</span></div><a class="hMenuLinkElement" href="../configuration/configuration.html"><span class="hMenuLinkText">設定</span></a><a class="hMenuLinkElement" href="../vlrfsasm.html"><span class="hMenuLinkText">講習トップ</span></a><a class="hMenuLinkElement" href="../table/table.html"><span class="hMenuLinkText">表</span></a></div></div><div class="hMenuWord" style="display: none; pointer-events: none;" id="menuWord"></div></div></div><div class="hContentSide"><div class="hContentBack"><article class="cPageTitleBack"><h1 class="cPageTitle">Vlrfsasm講習/本文</h1></article><article class="cArticle"><h2 class="cArticleTitle">段落群</h2><div class="cArticleCaption"><p class="cP">本文の内容は、段落群ごとに記述します。<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">vkhc.txt</span></span></span>を開いてください。</p></div><section class="cSection"><h2 class="cSectionTitle">構文</h2><p class="cP">段落群の構文は、とても簡単です。1行目に段落群名、2行目以降に空行がないように内容を書きます。空行が現れると段落群は終わりです。そして、空行以降で最初の非空行は、次の段落群の名前と見なされます。</p><p class="cP">なお、コメント機能はありません。</p></section><section class="cSection"><h2 class="cSectionTitle">段落</h2><p class="cP">段落群の内容は、<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">vkhc.txt</span></span></span>の1行が、HTMLの1段落として扱われます。</p><p class="cP">ただし、2行目以降について、半角スペース1字<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName"> </span></span></span>から始まる行は、前の行と同じ段落となります。最初の行をスペースから始めることは禁止します。</p><p class="cP"><div class="cCodeFrame"><div class="cCodeMenu"><span class="cCodeMenuTitle">段落群の例</span><button class="cCodeMenuElement cCodeMenuButton" onclick="expandCode(this)"><image class="cCodeMenuIcon" src="../../../images/icon/expand.svg"><span class="cCodeMenuText">EXPAND</span></button><button class="cCodeMenuElement cCodeMenuButton cCodeMenuInvisible" onclick="contractCode(this)"><image class="cCodeMenuIcon" src="../../../images/icon/contract.svg"><span class="cCodeMenuText">COLLAPSE</span></button><button class="cCodeMenuElement cCodeMenuButton cCodeMenuRight" onclick="copyScript(this)"><image class="cCodeMenuIcon" src="../../../images/icon/copy.svg"><span class="cCodeMenuText">COPY</span></button><span class="cCodeMenuElement cCodeMenuRight cCodeMenuInvisible"><image class="cCodeMenuIcon" src="../../../images/icon/done.svg"><span class="cCodeMenuText">COPIED!</span></span></div><code class="cCodeMulti cCodeContracted"><pre class="cCodePre"><ol class="cCodeOl cCodeOlNumber"><li class="qLine"><span class="qComMetaComment qComRBlue">概説段落群</span><span class="qPathName"></span></li><li class="qLine qLineEven"><span class="qPathName"><span class="qComRBlue">h</span>t.something.caption</span></li><li class="qLine"><span class="qPathName"><span class="qComRBlue">s</span>omething節の概説です。</span><span class="qPathName"></span></li><li class="qLine qLineEven"><span class="qPathName"></span></li><li class="qLine"><span class="qPathName"></span><span class="qComMetaComment qComRRed">第一項の段落群</span><span class="qPathName"></span></li><li class="qLine qLineEven"><span class="qPathName"><span class="qComRRed">h</span>t.something.first</span></li><li class="qLine"><span class="qPathName"><span class="qComRRed">s</span>omething節の第一項の内容です。</span></li><li class="qLine qLineEven"><span class="qPathName"><span class="qComRRed">こ</span>の行は上と独立した段落になります。</span><span class="qPathName"></span></li><li class="qLine"><span class="qPathName"></span></li><li class="qLine qLineEven"><span class="qPathName"></span><span class="qComMetaComment qComRGreen">第二項の段落群</span><span class="qPathName"></span></li><li class="qLine"><span class="qPathName"><span class="qComRGreen">h</span>t.something.second</span></li><li class="qLine qLineEven"><span class="qPathName"><span class="qComRGreen">た</span>だし、この第二項には段落が2つしか含まれません。</span></li><li class="qLine"><span class="qPathName"><span class="qComRGreen"> </span>ここは上の段落に含まれます。</span></li><li class="qLine qLineEven"><span class="qPathName"><span class="qComRGreen"> </span>複数行でも同じです。</span></li><li class="qLine"><span class="qPathName"><span class="qComRGreen">こ</span>こは別の段落となります。</span></li></ol></pre></code></div></p></section></article><article class="cArticle"><h2 class="cArticleTitle">拡張記法</h2><div class="cArticleCaption"><p class="cP">さて、HTMLを扱うからには、単なるテキストファイルより高度な内容を記述したいものです。</p></div><section class="cSection"><h2 class="cSectionTitle">構文</h2><p class="cP">拡張記法の構文は、vlrfsasmの関数と似ています。実は、内部で呼び出しているのです。</p><p class="cP">基本的な構文は、<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[識別子;第一引数;第二引数]</span></span></span>です。スペースは区切り文字ではありません。</p><p class="cP">識別子は、機能ごとに指定されます。vlrfsasmと同様に、大小文字の区別があります。</p><p class="cP">特殊な場合を除き、入れ子にすることもできます。</p><p class="cP">引数は多くも少なくもなく、ちょうど決められた数にしてください。</p></section><section class="cSection"><h2 class="cSectionTitle">装飾</h2><p class="cP">全て引数は1つで、装飾対象の文字列を入れます。</p><div class="cTableBack"><table class="tXC"><caption>装飾記法一覧</caption><tr><td>識別子</td><td>効果</td><td>例</td><td>表示</td></tr><tr><td>b</td><td>太字</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[b;A]</span></span></span></td><td><span class="xBold">A</span></td></tr><tr><td>i</td><td>斜体</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[i;B]</span></span></span></td><td><span class="xItalic">B</span></td></tr><tr><td>o</td><td>上付き線</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[o;C]</span></span></span></td><td><span class="xOverline">C</span></td></tr><tr><td>u</td><td>下付き線</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[u;D]</span></span></span></td><td><span class="xUnderline">D</span></td></tr><tr><td>uRed</td><td>赤下付き線</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[uRed;E]</span></span></span></td><td><span class="xUnderlineRed">E</span></td></tr><tr><td>uBlue</td><td>青下付き線</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[uBlue;F]</span></span></span></td><td><span class="xUnderlineBlue">F</span></td></tr><tr><td>uGreen</td><td>緑下付き線</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[uGreen;G]</span></span></span></td><td><span class="xUnderlineGreen">G</span></td></tr><tr><td>id</td><td>何もしない</td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[id;H]</span></span></span></td><td>H</td></tr></table></div><p class="cP"><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">id</span></span></span>は、次節で使います。</p></section><section class="cSection"><h2 class="cSectionTitle">リンク</h2><p class="cP">識別子<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">l</span></span></span>は、引数を2つとります。</p><p class="cP">第一引数が表示され、クリックすると第二引数のurlを開きます。</p><p class="cP"><div class="cCodeFrame"><div class="cCodeMenu"><span class="cCodeMenuTitle">トップページへのリンク</span><button class="cCodeMenuElement cCodeMenuButton cCodeMenuRight" onclick="copyScript(this)"><image class="cCodeMenuIcon" src="../../../images/icon/copy.svg"><span class="cCodeMenuText">COPY</span></button><span class="cCodeMenuElement cCodeMenuRight cCodeMenuInvisible"><image class="cCodeMenuIcon" src="../../../images/icon/done.svg"><span class="cCodeMenuText">COPIED!</span></span></div><code class="cCodeMulti"><pre class="cCodePre"><ol class="cCodeOl cCodeOlNumber"><li class="qLine"><span class="qPathName">[l;トップページ;https</span><span class="qPathSplit">://</span><span class="qPathName">www.ktpc.tokyo</span><span class="qPathSplit">/</span><span class="qPathName">index.html]</span></li></ol></pre></code></div></p><p class="cP">なお、第一引数を空文字列にすることができ、このとき第二引数のurlがそのまま表示されます。</p></section><section class="cSection"><h2 class="cSectionTitle">代用記法</h2><p class="cP">数学などでギリシャ文字を使うとき、ASCIIのみで表記出来ると楽です。識別子<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">a</span></span></span>は、引数を1つとり、対応する1文字を返します。数学の記号なども利用できます。</p><p class="cP">対応表は、<a class="cLink" href="https://github.com/ktpcmember/ktpcmember.github.io/blob/master/tool/vlrfsasmKtpc/main/aliasList.txt">aliasList.txt</a>にあります。必要ならば、衝突に気をつけつつ追加してください。</p><p class="cP">なお、ギリシャ文字や記号が2文字以上必要な場合には、スペース<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName"> </span></span></span>区切りで指定すればよいです。</p><div class="cTableBack"><table class="tXC"><caption>例</caption><tr><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[a;Th h t a]</span></span></span></td><td>Θητα</td></tr></table></div></section></article><article class="cArticle"><h2 class="cArticleTitle">回避記法</h2><div class="cArticleCaption"><p class="cP"><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">vkhc.txt</span></span></span>は一度vlrfsasmに変換されますが、直接vlrfsasmを書いて、変換しないようにすることもできます。</p><p class="cP">また、前節の拡張記法で使う3記号<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[;]</span></span></span>を、文章で用いる方法もあります。</p><p class="cP">本節では、これらを解説します。</p></div><section class="cSection"><h2 class="cSectionTitle">生vlrfsasm</h2><p class="cP">拡張記法の引数を、コンマ<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">,</span></span></span>から始めると、vlrfsasmのソースコードとして解釈されます。</p><div class="cTableBack"><table class="tXC"><caption>等価な表現</caption><tr><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[id;,(c.convertISb (1+2) 10)]</span></span></span></td></tr><tr><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">3</span></span></span></td></tr></table></div><p class="cP">なお、次にセミコロン<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">;</span></span></span>が現れるまでがvlrfsasmと認識されます。このため、二重引用符の有無に関わらず、セミコロンを含んではいけません。当然、関数を定義することもできません。</p><div class="cTableBack"><table><caption>悪い例</caption><tr><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">,";"</span></span></span></td><td><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">,{func; ; "Hello"}</span></span></span></td></tr></table></div><p class="cP">面倒でしょうが、文字列については<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qVlrString">";"</span></span></span>と等価な表現<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qVlrSymbol">(</span><span class="qVlrBuiltin">:</span><span class="qVlrSplit"> </span><span class="qVlrNumber">$3B</span><span class="qVlrSplit"> </span><span class="qVlrNumber">16</span><span class="qVlrSymbol">)</span></span></span>で我慢してください。</p></section><section class="cSection"><h2 class="cSectionTitle">コードブロック</h2><p class="cP">さて、本節では拡張記法の例をいくつか載せてきました。しかし、そのまま書いては表示されないことに気づいてください。</p><p class="cP"><span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">`</span></span></span>に囲まれた部分は、拡張記法の記号が含まれていても、解釈されません。書いたままの文字列が出てきます。この部分をコードブロックと呼ぶことにします。</p><p class="cP">コードブロックは複数行に渡ってもよいです。コードブロック内の改行は、段落や段落群の区切りとしての意味をもちません。</p><p class="cP">一般的なマークアップと違い、囲んだだけでは等幅フォントになりません。次々章を読んでください。</p><p class="cP">なお、グレーヴアクセント記号<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">`</span></span></span>を文字として使う場合は、<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">[a;ga]</span></span></span>と書いてください。もちろん、コードブロックは一度終了しておく必要があります。</p></section></article><article class="cArticle"><h2 class="cArticleTitle">変換</h2><div class="cArticleCaption"><p class="cP">ほぼ文字とはいえ、以上で内容を一通り書けるようになりました。</p><p class="cP">それでは、これをHTMLに変換しましょう。</p></div><section class="cSection"><h2 class="cSectionTitle">条件</h2><p class="cP">本変換器を実行するには、内容を記述したファイルについて、コミットとプッシュを行います。</p><p class="cP">ただし、<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">vkhc.txt</span></span></span>が更新されていない場合、変換器は実行されません。作者はよく<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">.vlra</span></span></span>ファイルだけ更新して苛立っています。</p><p class="cP">複数の<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">vkhc.txt</span></span></span>が更新されている場合、それぞれ独立に変換されます。</p></section><section class="cSection"><h2 class="cSectionTitle">結果</h2><p class="cP">変換結果は、1分から2分後にプルするとわかります。</p><p class="cP">更新内容に<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">.html</span></span></span>が含まれていれば成功です。含まれていない場合は、生成された<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">log</span></span></span>フォルダ内のエラーファイルを読んでください。エラーを読んでもわからない場合は、作者や知識のある人に質問してください。</p></section><section class="cSection"><h2 class="cSectionTitle">sitemap</h2><p class="cP">更新内容に、<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">sitemap.log</span></span></span>なる見慣れないファイルが含まれていると思います。これは<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">sitemap.xml</span></span></span>というファイルを生成する際に、vlrfsasmが吐いたエラーファイルです。</p><p class="cP">Googleを始めとして、検索エンジンはインターネット上の膨大なデータを知っています。しかし、これは全知全能の神を雇ったからではありません。</p><p class="cP">検索エンジンが情報を得るには、主に2つの手段があります。1つは情報源が押し売りに来るのを待つことです。物理部HPも、存在をGoogleに認知させることで、検索に引っかかるようにしています。2つ目の方法は、既知のWebページ等からリンクを辿り、自分で情報を集めることです。どちらの方法にしても、手間や時間差が発生してしまいますが、これは仕方ないことです。</p><p class="cP">とはいえ、検索エンジンの立場に立ってみると、後者の方法は大変に面倒です。すると、深い階層のファイルは認知されない可能性が高まります。あるサイト内のファイルを全て列挙しておけば、検索エンジンが巡回する際に楽ですし、見落としも起こりません。</p><p class="cP">この列挙ファイルが、<span class="cCodeSingleFrame"><span class="cCodeSingle"><span class="qPathName">sitemap.xml</span></span></span>です。しかし、ページを追加したり削除したりする際に、毎回これを編集するのは面倒です。そこで、本変換器の実行時に、ついでに更新しているわけです。</p></section></article></div></div><div class="hFooterSide"><footer class="hFooter"><button class="hFooterButton" onclick="scrollToTop()"><image class="hFooterButtonImage" src="../../../images/top.png"></button><span class="hFooterText">(C) 2020 駒場東邦物理部</span></footer></div></div></body></html>